var __extends=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)};define(["require","exports"],function(t,n){function e(t){return new s(t)}function i(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];return new r(t)}n.linear=function(t){return t},n.easeInQuad=function(t){return t*t},n.easeOutQuad=function(t){return t*(2-t)},n.easeInOutQuad=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},n.easeInCubic=function(t){return t*t*t},n.easeOutCubic=function(t){return--t*t*t+1},n.easeInOutCubic=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},n.easeInQuart=function(t){return t*t*t*t},n.easeOutQuart=function(t){return 1- --t*t*t*t},n.easeInOutQuart=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},n.easeInQuint=function(t){return t*t*t*t*t},n.easeOutQuint=function(t){return 1+--t*t*t*t*t},n.easeInOutQuint=function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t};var u=1e3/60;n.from=e,n.chain=i;var o=function(){function t(){this.numberOfRepeats=0,this.onCompleteCallbacks=[]}return t.prototype.repeat=function(t){return void 0===t&&(t=Number.MAX_VALUE),this.numberOfRepeats=t,this},t.prototype.done=function(t){return this.onCompleteCallbacks.push(t),this},t.prototype.executeOnComplete=function(){for(var t=0,n=this.onCompleteCallbacks;t<n.length;t++){var e=n[t];e()}},t}();n.Sequence=o;var r=function(t){function n(n){t.call(this),this.sequences=n,this.currentIndex=0}return __extends(n,t),n.prototype.go=function(t){var n=this,e=0,i=function(u){var o=n.sequences[u];o.go(function(){var o=u+1,r=e++<n.numberOfRepeats;return void 0===n.sequences[o]?void(r?i(0):(t&&t(),n.executeOnComplete())):void i(o)}),n.currentIndex=u};this.sequences.length>0&&i(0)},n.prototype.stop=function(){this.sequences[this.currentIndex].stop()},n}(o);n.SequenceAnimation=r;var s=function(t){function e(n){t.call(this),this.actions=[],this.sequence=null,this.initialValue=n}return __extends(e,t),e.prototype.to=function(t,e,i){void 0===i&&(i=n.easeInOutCubic);var o=this.initialValue,r=e/u,s=1/r,a=t-this.initialValue,c=0;return this.actions.push(function(){var n=o+i(c+=s)*a;return{isLast:Math.round(n)===t,value:Math.round(n)}}),this.initialValue=Math.round(t),this},e.prototype.wait=function(t){var n=Math.floor(t/u),e=0;return this.actions.push(function(){return{isLast:e++===n,value:null}}),this},e.prototype.stop=function(){this.stopAnimation()},e.prototype.on=function(t){return this.stepCompleteCallback=t,this},e.prototype.go=function(t){var n=this,e=0,i=0;this.sequence=this.sequence||this.createSequence(this.actions),this.startAnimation(function(){var u=n.sequence[i++];void 0!==u?null!==u&&n.stepCompleteCallback&&n.stepCompleteCallback(u):++e<n.numberOfRepeats?i=0:(n.stop(),n.executeOnComplete(),t&&t())})},e.prototype.startAnimation=function(t){this.animationId=setInterval(function(){return t()},u)},e.prototype.stopAnimation=function(){clearInterval(this.animationId),this.animationId=null},e.prototype.createSequence=function(t){for(var n=[],e=0;e<t.length;e++){var i=t[e],u=void 0;do{var o=i();n.push(o.value),u=o.isLast}while(!u)}return n},e}(o);n.ValueAnimation=s});